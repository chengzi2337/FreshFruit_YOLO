# FreshFruit_YOLO è®­ç»ƒä¸æ¨ç†ç»“æœæ€»ç»“

## ğŸ“Š è®­ç»ƒç»“æœ

### è®­ç»ƒé…ç½®
- **æ¨¡å‹**: YOLOv8n (MindYOLO)
- **é¢„è®­ç»ƒæƒé‡**: yolov8n_coco.ckpt (80ç±» â†’ 17ç±»è¿ç§»å­¦ä¹ )
- **å›¾åƒå°ºå¯¸**: 480Ã—480
- **æ‰¹æ¬¡å¤§å°**: 1 (æ¢¯åº¦ç´¯ç§¯: 4)
- **è®­ç»ƒè½®æ•°**: 5 epochs
- **è®­ç»ƒæ—¶é•¿**: ~2å°æ—¶
- **ç¡¬ä»¶**: CPU (8æ ¸å¿ƒ, ä½ä¼˜å…ˆçº§, 50%åŠŸç‡é™åˆ¶)

### æ•°æ®é›†
- **è®­ç»ƒé›†**: 4028å¼ å›¾åƒ
- **éªŒè¯é›†**: 282å¼ å›¾åƒ
- **ç±»åˆ«æ•°**: 17ç±»
  - Apple_healthy, Apple_rotten
  - Banana_healthy, Banana_rotten
  - Beans_healthy, Beans_rotten
  - Grape_healthy, Grape_rotten
  - Mango_healthy, Mango_rotten
  - Orange_healthy, Orange_rotten
  - Potato_healthy, Potato_rotten
  - Tomato_healthy, Tomato_rotten
  - non_produce

### è®­ç»ƒæŒ‡æ ‡

#### æŸå¤±å˜åŒ– (Epoch 1 â†’ 5)
| æŒ‡æ ‡ | åˆå§‹å€¼ | æœ€ç»ˆå€¼ | æœ€ä½³å€¼ | æ”¹å–„ |
|------|--------|--------|--------|------|
| **æ€»æŸå¤±** | 5.08 | 1.66 | 0.96 | â†“ 76% |
| **è¾¹ç•Œæ¡†æŸå¤± (lbox)** | 0.43 | 0.46 | 0.12 | â†“ 72% |
| **åˆ†ç±»æŸå¤± (lcls)** | 3.78 | 0.31 | 0.19 | â†“ 95% |
| **åˆ†å¸ƒæŸå¤± (dfl)** | 0.88 | 0.88 | 0.45 | â†“ 49% |

#### å­¦ä¹ ç‡
- åˆå§‹: 0.0996
- æœ€ç»ˆ: 0.0021
- ç­–ç•¥: Cosine Annealing

### æ¨¡å‹æƒé‡
ç”Ÿæˆçš„æ£€æŸ¥ç‚¹æ–‡ä»¶ (å…±11ä¸ª):
- `EMA_fruit_yolov8n-{1-5}_4028.ckpt` (11.56 MB) - **æ¨èä½¿ç”¨**
- `fruit_yolov8n-{1-5}_4028.ckpt` (11.55 MB)
- `optim_fruit_yolov8n.ckpt` (23.25 MB) - ä¼˜åŒ–å™¨çŠ¶æ€

**æ¨èæƒé‡**: `EMA_fruit_yolov8n-5_4028.ckpt` (ç¬¬5è½® + æŒ‡æ•°ç§»åŠ¨å¹³å‡)

---

## ğŸ¯ æ¨ç†ç»“æœ

### æµ‹è¯•æ¦‚å†µ
- **æµ‹è¯•å›¾åƒ**: 10å¼  (ä»éªŒè¯é›†éšæœºé€‰æ‹©)
- **æ£€æµ‹æˆåŠŸ**: 6å¼ 
- **å¹³å‡æ£€æµ‹æ•°**: 0.6ä¸ªå¯¹è±¡/å›¾
- **ç½®ä¿¡åº¦é˜ˆå€¼**: 0.25

### æ€§èƒ½æŒ‡æ ‡
- **æ¨ç†é€Ÿåº¦**: ~2ç§’/å›¾ (CPUæ¨¡å¼)
- **å†…å­˜å ç”¨**: ~300MB
- **æ¨¡å‹å‚æ•°**: 3.02M (å¯è®­ç»ƒ: 3.01M)

### æ£€æµ‹ç¤ºä¾‹
æ£€æµ‹ç»“æœä¿å­˜åœ¨:
```
runs/2026.01.27-22.21.07/inference_results/
â”œâ”€â”€ result_1_val_WIN_20260112_08_55_59_Pro.jpg  âœ“ æ£€æµ‹åˆ° 1 ä¸ªå¯¹è±¡
â”œâ”€â”€ result_2_val_WIN_20260112_09_28_30_Pro.jpg  âœ“ æ£€æµ‹åˆ° 1 ä¸ªå¯¹è±¡
â”œâ”€â”€ result_3_val_Banana_rotten_199.jpg          âœ“ æ£€æµ‹åˆ° 1 ä¸ªå¯¹è±¡
â”œâ”€â”€ result_4_val_WIN_20260112_08_50_07_Pro.jpg  âœ“ æ£€æµ‹åˆ° 1 ä¸ªå¯¹è±¡
â”œâ”€â”€ result_6_val_Apple_healthy_021.jpg          âœ“ æ£€æµ‹åˆ° 1 ä¸ªå¯¹è±¡
â”œâ”€â”€ result_10_val_Beans_healthy_002.jpg         âœ“ æ£€æµ‹åˆ° 1 ä¸ªå¯¹è±¡
â””â”€â”€ ...
```

### å¯è§†åŒ–æ–‡ä»¶
1. **è®­ç»ƒæ›²çº¿**
   - `runs/2026.01.27-22.21.07/visualizations/loss_curve.png`
   - `runs/2026.01.27-22.21.07/visualizations/detailed_metrics.png`

2. **è®­ç»ƒæ‘˜è¦**
   - `runs/2026.01.27-22.21.07/visualizations/training_summary.txt`

3. **æ¨ç†æŠ¥å‘Š**
   - `runs/2026.01.27-22.21.07/inference_results/inference_report.html` ğŸŒ
   - åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å¯æŸ¥çœ‹æ‰€æœ‰æ£€æµ‹ç»“æœ

---

## ğŸ“ˆ è®­ç»ƒä¼˜åŒ–å†ç¨‹

### é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

#### 1ï¸âƒ£ NaNæŸå¤±é—®é¢˜
- **é—®é¢˜**: YOLOv5é…ç½®å¯¼è‡´æŸå¤±ä¸ºNaN
- **è§£å†³**: åˆ‡æ¢åˆ°YOLOv8é…ç½®

#### 2ï¸âƒ£ CPUè¿‡çƒ­é‡å¯
- **é—®é¢˜**: 100% CPUå ç”¨å¯¼è‡´ç³»ç»Ÿé‡å¯
- **è§£å†³æ–¹æ¡ˆ**:
  - âœ… é™ä½å›¾åƒå°ºå¯¸: 640 â†’ 480
  - âœ… å‡å°æ‰¹æ¬¡å¤§å°: 4 â†’ 1 (+ æ¢¯åº¦ç´¯ç§¯4)
  - âœ… é™åˆ¶CPUæ ¸å¿ƒ: 16 â†’ 8
  - âœ… è®¾ç½®ä½ä¼˜å…ˆçº§è¿›ç¨‹
  - âœ… Windowsç”µæºé™åˆ¶: 50%

#### 3ï¸âƒ£ è®­ç»ƒæ—¶é—´è¿‡é•¿
- **é…ç½®å¦¥å**: epochs: 100 â†’ 5 (å®é™…å¯è¡Œ)
- **ç»“æœ**: 5è½®å·²æ˜¾ç¤ºè‰¯å¥½æ”¶æ•›è¶‹åŠ¿

---

## ğŸš€ åç»­å»ºè®®

### 1. ç»§ç»­è®­ç»ƒ
æŸå¤±æ›²çº¿æ˜¾ç¤ºä»åœ¨ä¸‹é™ï¼Œå»ºè®®:
```bash
python train_low_priority.py \
  --config configs/fruit_yolov8n.yaml \
  --weight runs/2026.01.27-22.21.07/weights/EMA_fruit_yolov8n-5_4028.ckpt \
  --epochs 50
```

### 2. æ¨¡å‹è¯„ä¼°
åœ¨å®Œæ•´éªŒè¯é›†ä¸Šè¯„ä¼°:
- mAP (å¹³å‡ç²¾åº¦å‡å€¼)
- ç²¾ç¡®ç‡ & å¬å›ç‡
- æ¯ç±»åˆ«æ€§èƒ½åˆ†æ

### 3. è¶…å‚æ•°ä¼˜åŒ–
- å°è¯•æ›´é«˜å›¾åƒåˆ†è¾¨ç‡ (å¦‚æœç¡¬ä»¶å…è®¸)
- è°ƒæ•´å­¦ä¹ ç‡ç­–ç•¥
- æ•°æ®å¢å¼ºå‚æ•°

### 4. éƒ¨ç½²ä¼˜åŒ–
- æ¨¡å‹é‡åŒ– (INT8)
- ONNXå¯¼å‡º
- æ¨ç†åŠ é€Ÿ (TensorRTç­‰)

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
FreshFruit_YOLO/
â”œâ”€â”€ configs/
â”‚   â””â”€â”€ fruit_yolov8n.yaml          # YOLOv8né…ç½®
â”œâ”€â”€ dataset/
â”‚   â”œâ”€â”€ images/train/               # è®­ç»ƒå›¾åƒ (4028)
â”‚   â”œâ”€â”€ images/val/                 # éªŒè¯å›¾åƒ (282)
â”‚   â”œâ”€â”€ labels/train/               # è®­ç»ƒæ ‡ç­¾ (YOLOæ ¼å¼)
â”‚   â”œâ”€â”€ labels/val/                 # éªŒè¯æ ‡ç­¾
â”‚   â”œâ”€â”€ classes.txt                 # ç±»åˆ«åç§°
â”‚   â””â”€â”€ data.yaml                   # æ•°æ®é›†é…ç½®
â”œâ”€â”€ weights/
â”‚   â””â”€â”€ yolov8n_coco.ckpt          # é¢„è®­ç»ƒæƒé‡
â”œâ”€â”€ runs/2026.01.27-22.21.07/       # æœ€æ–°è®­ç»ƒç»“æœ
â”‚   â”œâ”€â”€ weights/                    # æ¨¡å‹æ£€æŸ¥ç‚¹ (11ä¸ª)
â”‚   â”œâ”€â”€ logs/                       # è®­ç»ƒæ—¥å¿—
â”‚   â”œâ”€â”€ visualizations/             # è®­ç»ƒæ›²çº¿å›¾
â”‚   â””â”€â”€ inference_results/          # æ¨ç†ç»“æœ + HTMLæŠ¥å‘Š
â”œâ”€â”€ train_low_priority.py           # ä½ä¼˜å…ˆçº§è®­ç»ƒè„šæœ¬
â”œâ”€â”€ visualize_results.py            # è®­ç»ƒç»“æœå¯è§†åŒ–
â”œâ”€â”€ inference_test.py               # æ¨ç†æµ‹è¯•è„šæœ¬
â””â”€â”€ generate_report.py              # HTMLæŠ¥å‘Šç”Ÿæˆ
```

---

## ğŸ”— ç›¸å…³é“¾æ¥

- **GitHubä»“åº“**: https://github.com/chengzi2337/FreshFruit_YOLO
- **MindYOLO**: https://github.com/mindspore-lab/mindyolo
- **é¢„è®­ç»ƒæƒé‡**: https://download.mindspore.cn/toolkits/mindyolo/yolov8/

---

## ğŸ’¡ ä½¿ç”¨è¯´æ˜

### æ¨ç†æµ‹è¯•
```bash
# å•å¼ å›¾åƒæ¨ç†
python inference_test.py

# ç”ŸæˆHTMLæŠ¥å‘Š
python generate_report.py
```

### è®­ç»ƒå¯è§†åŒ–
```bash
python visualize_results.py
```

### ç»§ç»­è®­ç»ƒ
```bash
python train_low_priority.py
```

---

**æœ€åæ›´æ–°**: 2026å¹´1æœˆ28æ—¥  
**è®­ç»ƒçŠ¶æ€**: âœ… 5 epochså®Œæˆï¼Œæ¨¡å‹æ”¶æ•›è‰¯å¥½  
**æ¨èæ“ä½œ**: ç»§ç»­è®­ç»ƒ 20-50 epochsä»¥è¿›ä¸€æ­¥æå‡æ€§èƒ½
